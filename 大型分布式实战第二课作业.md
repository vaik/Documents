## 第一题：
用tcpdump、tshark等工具来来分析arp请求报文和应答报文，对照截获的数据，做出ARP请求应答的逻辑分析，建议本机安装虚拟机来进行测试和实践。

### 答案：

#### 操作步骤

1. 局网内同一网段的机器A（192.168.151.2）和机器B（192.168.151.129）
2. 机器B上通过命令tcpdump -i any -n arp 监测arp的数据包，
3. 机器A上执行命令 arp -a
4. 机器B上获得如下结果

> 16:43:48.936853 ARP, Request who-has 192.168.151.2 tell 192.168.151.129, length 28
>
> 16:43:48.937038 ARP, Reply 192.168.151.2 is-at 00:50:56:e4:75:da, length 46

#### 分析过程：

* 机器A发送 arp请求

* 机器B收到来自机器A的arp请求

* 机器B发送前面请求的arp响应,将自己的mac地址告诉机器A

  ​

## 第二题：

如果一个VLAN交换机的所有端口都是Trunk模式，则意味着什么？

### 答案：

如果一个VLAN交换机的所有端口都是Trunk模式，则意味着按VLAN来划分网络将不起作用了。

 

## 第三题：

说明下NAT在Linux中实现的原理和大致做法。

### 答案：

##### 实现原理：

NAT（Network Address Translation）是在IPv4地址日渐枯竭的情况下出现的一种技术，在RFC3022中定义，可将整个组织的内部IP都映射到一个合法IP上来进行Internet的访问，也可将外部对某IP的访问映射到内部的服务器上。

NAT分为源NAT和目的NAT两种，源NAT是指转换前源IP地址和转换后源IP地址不同，数据进入防火墙后，防火墙将其源地址进行了转换后再将其发出，使外部看不到数据包原来的源地址，对于TCP/UDP协议的数据包，防火墙不仅修改地址，还通过修改源端口来区分不同内部地址的连接，因此NAT环境下一个合法IP最多可以有65535条TCP连接；目的NAT是指转换前目的IP地址和转换后目的IP地址不同（对于TCP/UDP协议，也可以改变端口号），数据进入防火墙后，防火墙将其目的地址进行了转换后再将其发出，使看不到数据包原来的目的地址。

##### 大致做法：

在进行NAT时，如果是一个地址到一个地址的转换，称为一对一模式；如果是一个网段地址到一个地址的转换，称为多对一的转换；如果是一个网段地址到一个网段地址的转换，称为多对多的转换。上面说的IP伪装就属于源NAT，而端口映射和透明代理等属于目的NAT。

NAT从另一个角度也可分为静态和动态两种，静态方式是明确指定了转换前后的地址和端口的情况，可以有一对一、一对多、多对一等方式，如果实际地址发生变化，NAT规则必须相应改变；而动态方式也就是IP伪装方式，是一种多到一的源NAT转换模式，一般只需指定转换前的地址，转换后地址则是防火墙的IP地址，此地址是可以动态改变的，而NAT规则可以不变。静态NAT一般用在防火墙IP地址都是固定的情况，而动态NAT用于防火墙IP地址不固定的场合，如ADSL拨号。动态情况下也可以进行目的NAT，但NAT规则是在获取了地址后才起作用。



## 第四题：

路由的原理和机制是什么？解释下Linux里 ip route命令的结果。

 

## 第五题：

说说你所理解高性能网络编程的几个重要因素和他们之间的相互关系

